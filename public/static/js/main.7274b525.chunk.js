(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},166:function(e,t,a){e.exports=a(214)},189:function(e,t,a){},196:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),c=a(16),i=a(11),s=a(12),m=a(14),u=a(13),d=a(126),p=a.n(d).a.create({baseURL:"https://ironhack-yasha.herokuapp.com",withCredentials:!0});function h(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var E=function(e){return p.post("/api/auth/signup",e).then((function(e){return e.data})).catch(h)},g=function(e){return p.patch("/api/user/me",e).then((function(e){return e.data})).catch(h)},f=function(e){return p.post("/api/auth/signin",e).then((function(e){return e.data})).catch(h)},v=function(){return p.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(h)},b=function(){return p.get("/api/auth/logout").then((function(e){return e.data})).catch(h)},y=function(e){return p.post("/api/company/mycompany",e).then((function(e){return e.data})).catch(h)},C=function(){return p.get("/api/company/mycompany").then((function(e){return e.data})).catch(h)},O=function(e){return p.patch("/api/company/mycompany",e).then((function(e){return e.data})).catch(h)},j=function(){return p.get("/api/order").then((function(e){return e.data})).catch(h)},x=function(e){return p.get("/api/order/".concat(e)).then((function(e){return e.data})).catch(h)},S=function(e){return p.post("/api/order",e).then((function(e){return e.data})).catch(h)},N=function(e,t){return p.patch("/api/order/".concat(e),t).then((function(e){return e.data})).catch(h)},A=function(e,t){return p.patch("/api/order/comment/".concat(e),t).then((function(e){return e.data})).catch(h)},B=r.a.createContext(),D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(B.Provider,{value:e},this.props.children)}}]),a}(n.Component),k=a(19),w=a(25),W=function(e){return function(t){return r.a.createElement(B.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},L=a(245),P=a(127),R=a.n(P),T=a(128),I=a.n(T),F=a(271),U=a(248),Y=a(141),M=a(272),H=a(249),q=a(247),z=a(146),V=a(243),$=(a(189),Object(V.a)((function(e){return{root:{"& > *":{margin:e.spacing(0)}},small:{width:e.spacing(3),height:e.spacing(3)}}}))),_=W((function(e){var t=$(),a=e.context,n=r.a.useState(null),l=Object(w.a)(n,2),o=l[0],i=l[1],s=function(){i(null)};return r.a.createElement(L.a,{position:"static"},r.a.createElement(q.a,{container:!0,alignItems:"center",justify:"space-between",id:"navbar"},r.a.createElement(q.a,{item:!0},r.a.createElement(c.c,{exact:!0,to:a.isLoggedIn?"/dashboard":"/"},r.a.createElement(z.a,{variant:"h6"},r.a.createElement("strong",null,"YASHA")))),r.a.createElement(q.a,{item:!0},a.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{container:!0,justify:"center",className:t.root},r.a.createElement(q.a,null,r.a.createElement(U.a,{color:"secondary"},r.a.createElement(R.a,null))),r.a.createElement(q.a,null,r.a.createElement(U.a,{color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement(q.a,null,r.a.createElement(U.a,{"aria-controls":"simple-menu","aria-haspopup":"true",size:"small",onClick:function(e){i(e.currentTarget)}},a.user&&r.a.createElement(F.a,{alt:a.user.firstName,src:a.user.avatar,className:t.small})),r.a.createElement(Y.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:s},r.a.createElement(M.a,{onClick:s},r.a.createElement(H.a,{href:"/profile"},"My user profile")),r.a.createElement(M.a,{onClick:s},r.a.createElement(H.a,{href:"/company"},"My company profile")),r.a.createElement(M.a,{onClick:function(){b().then((function(){a.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))))),!a.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{item:!0},r.a.createElement(U.a,{href:"/signin",color:"inherit"},"Log in"))))))})),J=a(250),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(J.a,null,r.a.createElement(z.a,{variant:"h2",align:"center"},"Welcome to Yasha"),r.a.createElement(c.b,{to:"/dashboard"},r.a.createElement(U.a,{color:"Secondary",variant:"contained"},"Go to your dashboard")))}}]),a}(r.a.Component),G=a(15),K=a(273),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(G.a)({},a,n))},e.handleSubmit=function(t){console.log(e.state),t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(k.a,{to:"/"}):r.a.createElement(J.a,{maxWidth:"sm"},r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement(z.a,{variant:"h5",gutterBottom:!0},"Sign In"),r.a.createElement(K.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",id:"email",label:"email",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(K.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement(q.a,{container:!0},r.a.createElement(q.a,{item:!0,xs:!0},r.a.createElement(H.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(q.a,{item:!0},r.a.createElement(H.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))))}}]),a}(n.Component);X.contextType=B;var Z=Object(k.g)(X),ee=function(e){return r.a.createElement(Z,null)},te=a(254),ae=a(255),ne=a(268),re=a(274),le=a(267),oe=a(253),ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(G.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),E(e.state).then((function(t){y({name:e.state.company,companyType:e.state.companyType}),e.context.setUser(t),e.props.history.push("/profile")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(k.a,{to:"/dashboard"}):r.a.createElement(J.a,{component:"main",maxWidth:"xs"},r.a.createElement(te.a,null),r.a.createElement("div",null,r.a.createElement(z.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(q.a,{container:!0,spacing:2},r.a.createElement(K.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,margin:"normal",onChange:this.handleChange}),r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",margin:"normal",onChange:this.handleChange}),r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,type:"email",id:"email",label:"Email Address",name:"email",autoComplete:"email",margin:"normal",autoFocus:!0,onChange:this.handleChange}),r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",margin:"normal",autoComplete:"current-password",onChange:this.handleChange}),r.a.createElement(K.a,{variant:"outlined",required:!0,fullWidth:!0,name:"company",label:"Company",type:"company",id:"company",margin:"normal",autoComplete:"Company",onChange:this.handleChange}),r.a.createElement(oe.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(re.a,{shrink:"true",id:"companyType"},"Company Type"),r.a.createElement(le.a,{fullWidth:!0,labelId:"companyType",id:"companyType",name:"companyType",onChange:this.handleChange},r.a.createElement(M.a,{value:"retailer"},"Retailer"),r.a.createElement(M.a,{value:"brand"},"Brand"))),r.a.createElement(ae.a,{control:r.a.createElement(ne.a,{onChange:this.handleChange,value:"allowExtraEmails",color:"primary",margin:"normal"}),id:"allowExtraEmails",name:"allowExtraEmails",label:"I want to receive inspiration, marketing promotions and updates via email."})),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement(q.a,{container:!0,justify:"flex-end"},r.a.createElement(q.a,{item:!0},r.a.createElement(H.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))))))}}]),a}(n.Component);ce.contextType=B;var ie=Object(k.g)(ce),se=function(e){return r.a.createElement(ie,null)},me=a(142),ue=W((function(e){var t=e.component,a=e.context,n=Object(me.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(k.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(k.a,{to:"/signin"})})),de=r.a.forwardRef((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"UploadWidget label",htmlFor:e.name},e.children),r.a.createElement("input",{onChange:function(a){var n=a.target.files[0],r=URL.createObjectURL(n);e.onFileSelect&&e.onFileSelect(r,e.name,t)},ref:t,className:"UploadWidget input",id:e.name,name:e.name,type:"file"}))})),pe=a(266),he=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={},e.avatarRef=r.a.createRef(),e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(G.a)({},n,a))},e.handleFileSelect=function(t){e.setState({shippingDocs:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.context,n=new FormData;for(var r in e.state)"avatar"!==r&&n.append(r,e.state[r]);e.avatarRef.current.files[0]&&n.append("avatar",e.avatarRef.current.files[0]),g(n).then((function(t){a.setUser(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.context.user;this.setState(e)}},{key:"render",value:function(){return this.state.firstName?r.a.createElement(J.a,{component:"main",maxWidth:"xs",className:"auth-container"},r.a.createElement("div",null,r.a.createElement(z.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true"},"Complete your profile"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(K.a,Object(G.a)({id:"firstName",name:"firstName",fullWidth:!0,variant:"outlined",margin:"normal",label:"First Name",value:this.state.firstName,onChange:this.handleChange},"margin","normal")),r.a.createElement(K.a,{id:"lastName",name:"lastName",fullWidth:!0,variant:"outlined",margin:"normal",label:"Last Name",value:this.state.lastName,onChange:this.handleChange}),r.a.createElement(K.a,{id:"email",name:"email",fullWidth:!0,variant:"outlined",margin:"normal",label:"Email Address",value:this.state.email,onChange:this.handleChange}),r.a.createElement(K.a,{id:"password",name:"password",fullWidth:!0,variant:"outlined",margin:"normal",label:"Password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,variant:"outlined",margin:"normal",type:"file"}),r.a.createElement("label",{name:"avatar",htmlFor:"avatar"},r.a.createElement(de,{ref:this.avatarRef,onFileSelect:this.handleFileSelect,name:"avatar"})),r.a.createElement(pe.a,{className:"button-box"},r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Save Changes"))))):r.a.createElement(z.a,{component:"h1",variant:"h5"},"loading")}}]),a}(n.Component),Ee=Object(k.g)(W(he)),ge=function(e){return r.a.createElement("div",null,r.a.createElement(Ee,null))},fe=a(38),ve=a.n(fe),be=a(51),ye=a(257),Ce=a(90),Oe=a.n(Ce),je=W(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(G.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();e.props.authContext;O(e.state).then((function(t){e.props.history.push("/company")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(be.a)(ve.a.mark((function e(){var t,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.context,t.user,e.next=4,C();case 4:a=e.sent;try{this.setState(a)}catch(n){console.log(n)}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.name?r.a.createElement(J.a,{component:"main",maxWidth:"xs",className:"auth-container"},r.a.createElement("div",null,r.a.createElement(z.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true"},"Your Company Info"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(K.a,{id:"name",name:"name",fullWidth:!0,variant:"outlined",margin:"normal",label:"Company Name",value:this.state.name,onChange:this.handleChange}),r.a.createElement(oe.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(re.a,{shrink:"true",id:"companyType"},"Company Type"),r.a.createElement(le.a,{fullWidth:!0,labelId:"companyType",id:"companyType",name:"companyType",onChange:this.handleChange,value:this.state.companyType},r.a.createElement(M.a,{value:"retailer"},"Retailer"),r.a.createElement(M.a,{value:"brand"},"Brand"))),r.a.createElement(K.a,{id:"email",name:"email",fullWidth:!0,variant:"outlined",margin:"normal",label:"Main Email Contact",value:this.state.email,onChange:this.handleChange}),r.a.createElement(K.a,{id:"phoneNumber",name:"phoneNumber",fullWidth:!0,variant:"outlined",margin:"normal",label:"Main Phone Number",value:this.state.phoneNumber,onChange:this.handleChange}),r.a.createElement(K.a,{id:"vatNb",name:"vatNb",fullWidth:!0,variant:"outlined",margin:"normal",label:"VAT Number",value:this.state.vatNb,onChange:this.handleChange}),r.a.createElement(K.a,{id:"shippingAddress",name:"shippingAddress",fullWidth:!0,variant:"outlined",margin:"normal",label:"Shipping Address",value:this.state.shippingAddress,onChange:this.handleChange}),r.a.createElement(K.a,{id:"billingAddress",name:"billingAddress",fullWidth:!0,variant:"outlined",margin:"normal",label:"Billing Address",value:this.state.billingAddress,onChange:this.handleChange}),r.a.createElement(z.a,{variant:"h6"},"Current users")," ",this.state.userList.map((function(e){return r.a.createElement(q.a,{container:!0,alignItems:"center",className:"current-users"},r.a.createElement(F.a,{alt:e.firstName,src:e.avatar}),r.a.createElement(z.a,{variant:"body1"},e.firstName," ",e.lastName," (",e.permission,")"))})),r.a.createElement(ye.a,{variant:"extend",color:"secondary","aria-label":"add",size:"medium"},r.a.createElement(Oe.a,null)," Add user"),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Save changes")))):r.a.createElement(z.a,{component:"h1",variant:"h5"},"loading")}}]),a}(n.Component)),xe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(je,null))}}]),a}(n.Component),Se=a(258),Ne=a(259),Ae=a(270),Be=(a(101),Object(V.a)((function(e){return{root:{width:"100%",backgroundColor:"none"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}))),De=Object(V.a)({paper:{backgroundColor:"transparent"}});function ke(e){var t=Be(),a=["submitted","shipped","received"],n=De(),l=e.steps,o=[l.submitted,l.shipped,l.received];return e.steps?r.a.createElement("div",{className:t.root},r.a.createElement(Se.a,{activeStep:0,classes:{root:n.paper},alternativeLabel:!0},a.map((function(e,t){return r.a.createElement(Ne.a,{key:e,active:!1},r.a.createElement(Ae.a,null,o[t],r.a.createElement("br",null),e))}))),r.a.createElement("div",null,0===a.length?r.a.createElement("div",{className:"container"},r.a.createElement(z.a,{className:t.instructions},"All steps completed")):r.a.createElement("div",null))):r.a.createElement("div",null,"Loading.....")}var we=a(260),We=a(261),Le=function(e){return r.a.createElement(we.a,{className:"card"},r.a.createElement(We.a,null,r.a.createElement(z.a,{variant:"h5",component:"h2"},e.category),r.a.createElement(z.a,{color:"textSecondary"},e.orders," orders - $",e.total,"k")))},Pe=a(129),Re=a.n(Pe),Te=a(130),Ie=a.n(Te),Fe=function(e){return r.a.createElement("div",null,r.a.createElement(we.a,{className:"card"},r.a.createElement(q.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(q.a,{item:!0},r.a.createElement(Re.a,null)),r.a.createElement(q.a,{item:!0},r.a.createElement(z.a,{variant:"h5"},e.text1),r.a.createElement(z.a,{color:"textSecondary"},e.text2," ")))),r.a.createElement(we.a,{className:"card"},r.a.createElement(q.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(q.a,{item:!0},r.a.createElement(Ie.a,null)),r.a.createElement(q.a,{item:!0},r.a.createElement(z.a,{variant:"h5"},e.text3),r.a.createElement(z.a,{color:"textSecondary"},e.text4," ")))))},Ue=(a(196),Object(V.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),position:"absolute",top:"5rem",right:"0.8rem",zIndex:"100"}},extendedIcon:{marginRight:e.spacing(1)}}})));function Ye(){var e=Ue();return r.a.createElement("div",{className:e.root},r.a.createElement(ye.a,{color:"secondary","aria-label":"add"},r.a.createElement(Oe.a,null)))}var Me=a(76),He=Object(V.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"column","& > *":{margin:e.spacing(.5)}}}})),qe=function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),l=a[0],o=a[1],c=Object(n.useState)([]),i=Object(w.a)(c,2),s=i[0],m=i[1],u=Object(n.useState)([]),d=Object(w.a)(u,2),p=d[0],h=d[1],E=Object(n.useState)([]),g=Object(w.a)(E,2),f=g[0],v=g[1];console.log("CardFilters - orders prop",e);var b=function(){console.info("You clicked the delete icon.")},y=function(e){console.info("You clicked the button."),console.log(e.target.value);var t=Object(Me.a)(l),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),o(t)},C=function(e){console.info("You clicked the button.");var t=Object(Me.a)(s),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),m(t)},O=function(e){console.info("You clicked the button.");var t=Object(Me.a)(p),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),h(t)},j=function(e){console.info("You clicked the button.");var t=Object(Me.a)(f),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),v(t)},x=He();console.log(e.orders,"orders before");var S=e.orders.filter((function(e){return!f.length||f.includes(e.paymentHistory[e.paymentHistory.length-1].payment)})).filter((function(e){return!s.length||s.includes(e.category)})).filter((function(e){return!p.length||p.includes(e.steps[e.steps.length-1].stage)}));return console.log(S,"filter orders"),r.a.createElement("div",{className:x.root},r.a.createElement(z.a,{variant:"h5",display:"block"},r.a.createElement("strong",null,"Filters")),r.a.createElement("br",null),r.a.createElement(z.a,{variant:"h6",component:"h1"},"Seasons"),r.a.createElement("div",null,r.a.createElement("button",{value:"Jan 2020",onClick:y,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"Jan 2020"),r.a.createElement("button",{value:"Dec 2020",onClick:y,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"Dec 2020")),r.a.createElement(z.a,{variant:"h6",component:"h1"},"Categories"),r.a.createElement("div",null,r.a.createElement("button",{value:"Veggie",onClick:C,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"Veggie"),r.a.createElement("button",{value:"Cheese",onClick:C,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"Cheese"),r.a.createElement("button",{value:"Drinks",onClick:C,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"Drinks")),r.a.createElement(z.a,{variant:"h6",component:"h1"},"Order status"),r.a.createElement("div",null,r.a.createElement("button",{value:"submitted",onClick:O,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"submitted"),r.a.createElement("button",{value:"shipped",onClick:O,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"shipped"),r.a.createElement("button",{value:"received",onClick:O,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"received")),r.a.createElement(z.a,{variant:"h6",component:"h1"},"Payment status"),r.a.createElement("div",null,r.a.createElement("button",{value:"not paid",onClick:j,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"not paid"),r.a.createElement("button",{value:"partially paid",onClick:j,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"partially paid"),r.a.createElement("button",{value:"fully paid",onClick:j,onDelete:b,style:{color:"#DAABB0",fontWeight:"400",backgroundColor:"transparent",border:"1px solid #DAABB0",borderRadius:"15px",padding:"0 1em 0 1em"}},"fully paid")))},ze=a(131),Ve=a.n(ze),$e=W(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={orders:null,ordersBySector:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(be.a)(ve.a.mark((function e(){var t,a,n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var t={submitted:0,shipped:0,received:0};return e.forEach((function(e){var a=e.steps[e.steps.length-1].stage;"submitted"===a?t.submitted=t.submitted+1:"shipped"===a?t.shipped=t.shipped+1:"received"===a&&(t.received=t.received+1)})),t},a=function(e){var a=t.reduce((function(t,a){a.total=a.items.reduce((function(e,t){return e+t.price*t.quantity}),0);var n=a[e];return t[n]||(t[n]=[]),t[n].push(a),t}),{});return Object.keys(a).map((function(e){return[e,a[e]]}))},e.next=4,j();case 4:t=e.sent,this.setState({orders:t,ordersBySector:a("season"),ordersBySteps:n(t)});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.context;return this.state.ordersBySector?r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"dashboard-fullrow"},r.a.createElement(z.a,{variant:"h3",component:"h1"},"Hello ",r.a.createElement("strong",null,t.user&&t.user.firstName," "),"!")),r.a.createElement("div",{className:"dashboard-left"},r.a.createElement(z.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Notifications"),r.a.createElement("div",{className:"dashboard-notifs"},r.a.createElement(Fe,{text1:"4 orders need your attention",text2:"3 confirmation issues and 1 transport to organize",text3:"3 new messages",text4:"from Danone, Coca-Cola, Mondelez"})),r.a.createElement("div",{className:"dashboard-budget"},r.a.createElement(z.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"You're open to buy"))),r.a.createElement("div",{className:"dashboard-right"},r.a.createElement(q.a,{item:!0},r.a.createElement(q.a,{item:!0},r.a.createElement(z.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Your orders")),r.a.createElement(q.a,{item:!0},r.a.createElement(z.a,{variant:"subtitle1",gutterBottom:!0},r.a.createElement("p",null,"All open orders",r.a.createElement("span",null,this.state.orders.length),r.a.createElement("span",null,r.a.createElement(Ve.a,null)))))),r.a.createElement(ke,{steps:this.state.ordersBySteps}),r.a.createElement(qe,{orders:this.state.orders}),r.a.createElement("div",{className:"dashboard-scrollbox"},this.state.ordersBySector.map((function(t,a){return r.a.createElement(c.b,{to:{pathname:"/dashboard/categories/".concat(a),state:{ordersBySector:e.state.ordersBySector[a]}}},r.a.createElement(Le,{key:a,category:t[0],orders:t[1].length,total:t[1].reduce((function(e,t){return e+t.total}),0)}))}))),r.a.createElement(c.b,{to:"/order/new"},r.a.createElement(Ye,null)))):r.a.createElement("div",null,"Loading.....")}}]),a}(n.Component)),_e=a(262),Je=a(256),Qe=a(132),Ge=a.n(Qe),Ke=function(e){return r.a.createElement("div",null,r.a.createElement(L.a,{color:"textSecondary",position:"static"},r.a.createElement(_e.a,null,r.a.createElement(Je.a,null,r.a.createElement(Ge.a,null)),r.a.createElement(z.a,{variant:"h6"},e.text))))},Xe=a(263),Ze=function(e){return r.a.createElement(we.a,{className:"card"},r.a.createElement(We.a,null,r.a.createElement(z.a,{variant:"h5",component:"h2"},e.refcode),r.a.createElement(z.a,{color:"textSecondary"},"$ ",e.total," - ",e.amount," units")),r.a.createElement(Xe.a,null))},et=Object(k.g)(W((function(e){var t=e.location.state.ordersBySector;return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/dashboard"},r.a.createElement(Ke,{text:t[0]})),r.a.createElement("div",{className:"catBrandContainer"},r.a.createElement(q.a,{container:!0,justify:"center"},r.a.createElement(z.a,{variant:"h5"},r.a.createElement("strong",null,"  ",t[1].length," "),"orders worth ",r.a.createElement("strong",null,t[1].reduce((function(e,t){return e+t.total}),0))),r.a.createElement(ke,{steps:function(e){var t={submitted:0,shipped:0,received:0};return e.forEach((function(e){var a=e.steps[e.steps.length-1].stage;"submitted"===a?t.submitted=t.submitted+1:"shipped"===a?t.shipped=t.shipped+1:"received"===a&&(t.received=t.received+1)})),t}(t[1])})),t[1].map((function(e,t){return r.a.createElement(c.b,{to:"/order/".concat(e._id)},r.a.createElement(Ze,{key:t,refcode:e.number,total:e.total,amount:e.items.reduce((function(e,t){return e+t.quantity}),0)}))}))))}))),tt=function(e){return r.a.createElement(we.a,{className:"card"},r.a.createElement(We.a,null,r.a.createElement(z.a,{variant:"h5",component:"h2"},e.orderNumber),r.a.createElement(z.a,{color:"textSecondary"},"$",e.amount," - ",e.units," units")),r.a.createElement(Xe.a,null))},at=function(){return r.a.createElement("div",null,r.a.createElement(Ke,{text:"Danone"}),r.a.createElement("div",{className:"catBrandContainer"},r.a.createElement(q.a,{container:!0,justify:"center"},r.a.createElement(z.a,{variant:"h5"},r.a.createElement("strong",null,"34 "),"orders worth ",r.a.createElement("strong",null,"18.000")),r.a.createElement(ke,null)),r.a.createElement(tt,{orderNumber:"PO1039829",amount:"5,829.00",units:"423"}),r.a.createElement(tt,{orderNumber:"PO1039828",amount:"13,592.00",units:"876"}),r.a.createElement(tt,{orderNumber:"PO1039827",amount:"5,998.00",units:"502"})))},nt=a(217),rt=a(4),lt=a(3),ot=a(133),ct=a.n(ot),it=Object(V.a)((function(e){return{root:{width:"100%",backgroundColor:"none",color:"#DAABB0"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),st=Object(V.a)({root:{color:"#DAABB0",display:"flex",height:22,alignItems:"center"},active:{color:"#DAABB0"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#DAABB0",zIndex:1,fontSize:18}}),mt=Object(rt.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#DAABB0"}},completed:{"& $line":{borderColor:"#DAABB0"}},line:{borderColor:"#DAABB0",borderTopWidth:3,borderRadius:1}})(nt.a);function ut(e){var t=st(),a=e.active,n=e.completed;return r.a.createElement("div",{className:Object(lt.a)(t.root,Object(G.a)({},t.active,a))},n?r.a.createElement(ct.a,{className:t.completed}):r.a.createElement("div",{className:t.circle}))}var dt=Object(V.a)({paper:{backgroundColor:"transparent"}});function pt(e){var t=it(),a=["submitted","shipped","received"],n=r.a.useState(a.indexOf(e.currentStep)+1),l=Object(w.a)(n,2),o=l[0],c=(l[1],dt());return e.currentStep?r.a.createElement("div",{className:t.root},r.a.createElement(Se.a,{alternativeLabel:!0,classes:{root:c.paper},activeStep:o,connector:r.a.createElement(mt,null)},a.map((function(e){return r.a.createElement(Ne.a,{key:e},r.a.createElement(Ae.a,{StepIconComponent:ut},e))}))),r.a.createElement("div",null,o===a.length?r.a.createElement("div",{className:"container"},r.a.createElement(z.a,{className:t.instructions},"All steps completed")):r.a.createElement("div",null))):r.a.createElement("div",null,"Loading.....")}var ht=a(134),Et=a.n(ht),gt=function(e){return console.log("navOrder.jsx - props",e),r.a.createElement("div",null,r.a.createElement(L.a,{color:"textSecondary",position:"static"},r.a.createElement(_e.a,null,r.a.createElement("img",{src:"",alt:""}),r.a.createElement(z.a,{variant:"h6"},e.order[0].name),r.a.createElement(c.b,{exact:!0,to:"/dashboard"},r.a.createElement(Je.a,null,r.a.createElement(Et.a,null))))))},ft=a(92),vt=a.n(ft),bt=a(136),yt=a.n(bt),Ct=a(60),Ot=a.n(Ct),jt=a(275),xt=a(59),St=a.n(xt),Nt=a(135),At=a.n(Nt),Bt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{component:"h1",variant:"h5"},r.a.createElement(At.a,null),"Loading ..."))}}]),a}(n.Component),Dt=a(71);a(197);var kt=a(198),wt=a(102),Wt=a(199),Lt=a(200);Dt.extend(Wt),Dt.extend(Lt),Dt.extend(kt),Dt.extend(wt);var Pt=a(201);Dt.extend(Pt);var Rt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidMount=function(){e.setState({order:e.props.order})},e.calculateTotalCost=function(){return e.props.order[0].items.reduce((function(e,t){return e+t.price*t.quantity}),0)},e.calculateTotalQty=function(){return e.props.order[0].items.reduce((function(e,t){return e+t.quantity}),0)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.order[0];return this.props.order?r.a.createElement(we.a,null,r.a.createElement(St.a,{variant:"popover",popupId:"demo-popup-popover"},(function(t){return r.a.createElement("div",null,r.a.createElement(We.a,Object(xt.bindTrigger)(t),r.a.createElement(z.a,{color:"textSecondary"},"$",e.calculateTotalCost()),r.a.createElement(z.a,{color:"textSecondary"},e.calculateTotalQty()," units"),r.a.createElement(z.a,{variant:"h5",component:"h2"},r.a.createElement(vt.a,null),e.props.order[0].steps[e.props.order[0].steps.length-1].stage," ","on"," ",Dt("".concat(e.props.order[0].steps[e.props.order[0].steps.length-1].date)).locale("en").format("LLLL")),r.a.createElement(z.a,{color:"textSecondary"},r.a.createElement(yt.a,null),"Terms and Conditions")),r.a.createElement(jt.a,Object.assign({},Object(xt.bindPopover)(t),{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}}),r.a.createElement(pe.a,{p:2},r.a.createElement(z.a,null,"Order History"),r.a.createElement(z.a,null," ",r.a.createElement(Ot.a,null),"Submitted on"," ",Dt("".concat(e.props.order[0].steps[0].date)).format("dddd Do YYYY kk mm"),"'"," "),e.props.order[0].steps[1]?r.a.createElement(z.a,null," ",r.a.createElement(Ot.a,null),"Shipment confirmed on"," ",Dt("".concat(e.props.order[0].steps[1].date)).format("dddd Do YYYY kk mm"),"'"," "):r.a.createElement(z.a,null," ",r.a.createElement(vt.a,null),"Your order has not been shipped yet"),e.props.order[0].steps[2]?r.a.createElement(z.a,null," ",r.a.createElement(Ot.a,null),"Received on"," ",Dt("".concat(e.props.order[0].steps[2].date)).format("dddd Do YYYY kk mm"),"'"," "):r.a.createElement(z.a,null," ",r.a.createElement(vt.a,null),"You have not received your order yet"))))})),r.a.createElement(Xe.a,null,r.a.createElement(St.a,{variant:"popover",popupId:"demo-popup-popover"},(function(a){return r.a.createElement("div",null,r.a.createElement(U.a,Object(xt.bindTrigger)(a),void 0===t.paymentHistory.length&&"Not paid",1===t.paymentHistory.length&&"Not paid",2===t.paymentHistory.length&&"First payment completed",3===t.paymentHistory.length&&"Fully paid"),r.a.createElement(jt.a,Object.assign({},Object(xt.bindPopover)(a),{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}}),r.a.createElement(pe.a,{p:2},r.a.createElement(z.a,null,"Payment terms"),r.a.createElement(z.a,null," ",r.a.createElement(Ot.a,null),"first payment:",t.paymentTerms.firstPaymentAmount*e.calculateTotalCost()/100,"$"," |","second payment:",t.paymentTerms.secondPaymentAmount*e.calculateTotalCost()/100,"$"," "),r.a.createElement(z.a,null,"Payment history"),void 0===t.paymentHistory.length&&r.a.createElement(z.a,null,"Haven' paied anything yet, start your first payment"),1===t.paymentHistory.length&&r.a.createElement(z.a,null,"Haven' paied anything yet, start your first payment"," "),t.paymentHistory.length>1&&r.a.createElement(z.a,null,r.a.createElement(Ot.a,null),"First payment is made on the date :"," ",Dt("".concat(t.paymentHistory[1].date)).fromNow()," ","("," ",Dt("".concat(t.paymentHistory[1].date)).format("DD/MM/YYYY"),")"),t.paymentHistory.length>2&&r.a.createElement(z.a,null,r.a.createElement(Ot.a,null),"This order is fully paid on the date :"," ",Dt("".concat(t.paymentHistory[2].date)).fromNow()," ","("," ",Dt("".concat(t.paymentHistory[2].date)).format("DD/MM/YYYY"),")"))))})))):r.a.createElement(Bt,null)}}]),a}(n.Component),Tt=function(e){var t=e.messages;return r.a.createElement(we.a,null,r.a.createElement(F.a,{src:t.user.avatar,alt:t.user.firstName}),r.a.createElement(We.a,null,r.a.createElement(z.a,{color:"textPrimary",gutterBottom:!0},t.user.firstName," "," "," ",t.user.lastName),r.a.createElement(z.a,{color:"textPrimary",gutterBottom:!0},t.timeStamp),r.a.createElement(z.a,{color:"textPrimary",gutterBottom:!0},t.message)))},It=Object(V.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),Ft=W((function(e){var t,a=e.context.user,l=e.order,o=(It(),Object(n.useState)("")),c=Object(w.a)(o,2),i=c[0],s=c[1],m=Object(n.useState)(l.comments),u=Object(w.a)(m,2),d=u[0],p=u[1];return r.a.createElement("div",null,d.map((function(e){return r.a.createElement(Tt,{messages:e})})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={message:i,user:a._id,timeStamp:new Date};A(l._id,t).then((function(e){return p(e.comments)})).then(s("")).catch((function(e){return console.log(e)}))}},r.a.createElement(K.a,{id:"comment",name:"comment",fullWidth:!0,label:"comment",onChange:function(e){s(e.currentTarget.value)},value:i,placeholder:"Write your comments here"}),r.a.createElement(U.a,(t={variant:"contained",fullWidth:!0},Object(G.a)(t,"variant","contained"),Object(G.a)(t,"color","primary"),Object(G.a)(t,"type","submit"),t),"send my comment")))})),Ut=Object(V.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),Yt=function(e){var t=Ut();Object(n.useContext)(B);var a=Object(n.useState)(null),l=Object(w.a)(a,2),o=l[0],i=l[1],s=Object(n.useState)(0),m=Object(w.a)(s,2);m[0],m[1];return Object(n.useEffect)((function(){x(e.match.params.id).then((function(e){return i(e)})).catch()}),[]),null!==o?r.a.createElement("div",null,r.a.createElement(gt,{order:o,img:""}),r.a.createElement("div",{className:t.root},r.a.createElement(pt,{currentStep:o[0].steps[o[0].steps.length-1].stage}),r.a.createElement(Rt,{order:o}),"received"===o[0].steps[o[0].steps.length-1].stage&&r.a.createElement(z.a,{component:"h1",variant:"h5"}),r.a.createElement(c.b,{exact:!0,to:"/order/edit/".concat(e.match.params.id)},"submitted"===o[0].steps[o[0].steps.length-1].stage&&r.a.createElement(U.a,{color:"Secondary",variant:"contained"},"Mark order as shipped"),"shipped"===o[0].steps[o[0].steps.length-1].stage&&r.a.createElement(U.a,{color:"Secondary",variant:"contained"},"Mark order as received")),o[0].documents.length>0&&r.a.createElement(z.a,{variant:"h5"},"Download order documents"),o[0].documents&&o[0].documents.map((function(e){return r.a.createElement(z.a,{variant:"body1"},r.a.createElement("a",{href:e.docUrl,target:"_blank"},e.docName))})),r.a.createElement(Ft,{order:o[0]}))):r.a.createElement(Bt,null)},Mt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-long-arrow-alt-left"})," ",r.a.createElement("h1",null,"Order confirmation"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Initial order"),r.a.createElement("th",null,"Order confirmation"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Order: "),r.a.createElement("td",null,"BALR FW20"),r.a.createElement("td",null,"SOBAL00021")),r.a.createElement("tr",null,r.a.createElement("td",null,"Supplier: "),r.a.createElement("td",null,"BALR"),r.a.createElement("td",null,r.a.createElement("i",{class:"far fa-check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Currency: "),r.a.createElement("td",null,"USD"),r.a.createElement("td",null,r.a.createElement("i",{class:"fas fa-exclamation-triangle"})," EUR")),r.a.createElement("tr",null,r.a.createElement("td",null,"Date: "),r.a.createElement("td",null,"12/05/2020"),r.a.createElement("td",null,r.a.createElement("i",{class:"far fa-check-circle"})," 23/06/2020")))),r.a.createElement("h1",null,"Order Content"),r.a.createElement("div",null),r.a.createElement("h2",null,"1 item removed"),r.a.createElement("h2",null,"1 item added"),r.a.createElement("h2",null,"1 quantity changed"),r.a.createElement("div",null),r.a.createElement("a",{href:"/"},"Export details"),r.a.createElement("button",null,"Accept order confirmation"),r.a.createElement("a",{href:"/"},"Cancel upload"))}}]),a}(n.Component),Ht=a(105),qt=a(137),zt=a(29),Vt=a(265);function $t(e){var t=r.a.useState(new Date("01/22/2021")),a=Object(w.a)(t,2),n=a[0];a[1];return r.a.createElement(zt.a,{utils:qt.a},r.a.createElement(Vt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Date",value:n,KeyboardButtonProps:{"aria-label":"change date"}}))}a(209);var _t=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={users:[],steps:[{stage:"submitted",date:new Date}],paymentTerms:{},items:[]},e.componentDidMount=Object(be.a)(ve.a.mark((function t(){var a,n,r;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:a=t.sent,n=a.seasonList,r=a.categoryList;try{e.setState({seasonList:n,categoryList:r}),console.log(e.state)}catch(l){console.log(l)}case 6:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(G.a)({},n,a))},e.handleChangePaymentAmount=function(t){var a,n=t.target.value,r=t.target.name,l=100-n;e.setState({paymentTerms:(a={},Object(G.a)(a,r,n),Object(G.a)(a,"secondPaymentAmount",l),a)})},e.handleChangePayment=function(t){var a=t.target.value,n=t.target.name;e.setState({paymentTerms:Object(Ht.a)(Object(Ht.a)({},e.state.paymentTerms),{},Object(G.a)({},n,a))})},e.handleSubmit=function(t){t.preventDefault(),e.state.users.push(e.context.user._id),S(e.state).then((function(t){e.props.history.push("/order/"+t._id)})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(J.a,{component:"main",maxWidth:"md"},r.a.createElement(z.a,{component:"h1",variant:"h5"},"Create a New Order"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(q.a,{container:!0},r.a.createElement(K.a,{id:"name",name:"name",label:"Order Name",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(K.a,{id:"number",name:"number",label:"Purchase Order Number",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(K.a,{id:"brandCompany",name:"brandCompany",label:"Seller Company",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement($t,{name:"date",placeholder:"20/06/2020",onChange:this.handleChange}),r.a.createElement("label",{className:"label-date"},"Date"),r.a.createElement("input",{className:"input-date",onChange:this.handleChange,name:"date",type:"Date",placeholder:"20/06/2020"}),r.a.createElement(oe.a,{fullWidth:!0,margin:"dense"},r.a.createElement(re.a,{id:"season"},"Season"),r.a.createElement(le.a,{labelId:"season",id:"season",name:"season",onChange:this.handleChange},this.state.seasonList&&this.state.seasonList.map((function(e){return r.a.createElement(M.a,{value:e},e)})))),r.a.createElement(oe.a,{fullWidth:!0,margin:"dense"},r.a.createElement(re.a,{id:"category"},"Category"),r.a.createElement(le.a,{labelId:"category",id:"category",name:"category",onChange:this.handleChange},this.state.categoryList&&this.state.categoryList.map((function(e){return r.a.createElement(M.a,{value:e},e)})))),r.a.createElement(oe.a,{fullWidth:!0,margin:"dense"},r.a.createElement(re.a,{id:"currency"},"Currency"),r.a.createElement(le.a,{labelId:"currency",id:"currency",name:"currency",onChange:this.handleChange,value:"EUR"},r.a.createElement(M.a,{value:"USD"},"USD"),r.a.createElement(M.a,{value:"EUR"},"EUR"))),r.a.createElement(q.a,null,r.a.createElement(K.a,{id:"itemName",name:"itemName",label:"Item Name",variant:"outlined",onChange:this.handleChange}),r.a.createElement(K.a,{id:"price",name:"price",label:"Price",type:"number",variant:"outlined",onChange:this.handleChange}),r.a.createElement(K.a,{id:"quantity",name:"quantity",label:"Quantity",type:"number",variant:"outlined",onChange:this.handleChange})),r.a.createElement(q.a,{Container:!0},r.a.createElement(q.a,{container:!0,direction:"column"},r.a.createElement("label",{className:"label-date",htmlFor:""},"1st Payment Due"),r.a.createElement(q.a,{container:!0,direction:"row"},r.a.createElement("input",{className:"input-date",id:"firstPaymentDate",name:"firstPaymentDate",type:"Date",onChange:this.handleChangePayment}),r.a.createElement(K.a,{id:"firstPaymentAmount",name:"firstPaymentAmount",label:"1st Payment (%)",type:"number",InputProps:{inputProps:{min:0,max:100}},onChange:this.handleChangePaymentAmount}))),r.a.createElement(q.a,{container:!0,direction:"column"},r.a.createElement("label",{className:"label-date",htmlFor:""},"2nd Payment Due"),r.a.createElement(q.a,{container:!0,direction:"row"},r.a.createElement("input",{className:"input-date",id:"secondPaymentDate",name:"secondPaymentDate",type:"Date",onChange:this.handleChangePayment}),r.a.createElement(z.a,{variant:"body1"},"2nd Payment Amount:",this.state.paymentTerms.secondPaymentAmount&&this.state.paymentsecondPaymentAmount,"%"))))),r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit Order")))}}]),a}(n.Component);_t.contextType=B;var Jt=a(91),Qt=a.n(Jt),Gt=(a(210),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).docRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e;return null!==this.props?r.a.createElement(J.a,{component:"main",maxWidth:"xs",className:"received-container"},r.a.createElement("div",{className:"received-card"},r.a.createElement("div",{className:"received-item"},r.a.createElement("img",{src:"/images/receive-pic.png",alt:"Shipment-illustration",className:"ship-pic"})),r.a.createElement("div",{className:"received-item"},r.a.createElement(z.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true",className:"received-title"},"Has your order arrived?")),r.a.createElement("form",{onSubmit:this.props.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(de,{ref:this.docRef,onFileSelect:this.props.handleChange,name:"receivedDoc"}),r.a.createElement(U.a,(e={variant:"raised",component:"span"},Object(G.a)(e,"variant","contained"),Object(G.a)(e,"color","secondary"),Object(G.a)(e,"size","small"),Object(G.a)(e,"className","upload-btn received-item"),e),r.a.createElement("span",{className:"upload-icon"},r.a.createElement(Qt.a,null)),"Upload reception documents")),r.a.createElement(pe.a,{className:"button-box received-item"},r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Mark order as received"))))):r.a.createElement(Bt,null)}}]),a}(n.Component)),Kt=(Object(k.g)(Gt),a(211),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).docRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){return null!==this.props?r.a.createElement(J.a,{component:"main",maxWidth:"xs",className:"shipped-container"},r.a.createElement("div",{className:"shipped-card"},r.a.createElement("div",{className:"shipped-item"},r.a.createElement("img",{src:"/images/shipment-pic.png",alt:"Shipment-illustration",className:"ship-pic"})),r.a.createElement("div",{className:"shipped-item"},r.a.createElement(z.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true",className:"shipped-title"},"Is your order ready to ship?")),r.a.createElement("form",{onSubmit:this.props.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(de,{ref:this.docRef,onFileSelect:this.props.handleChange,name:"shippingDoc"}),r.a.createElement(U.a,{component:"span",variant:"contained",color:"secondary",size:"small",className:"upload-btn shipped-item"},r.a.createElement("span",{className:"upload-icon"},r.a.createElement(Qt.a,null)),"Upload shipping documents")),r.a.createElement(pe.a,{className:"button-box shipped-item"},r.a.createElement(U.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Mark order as shipped"))))):r.a.createElement(Bt,null)}}]),a}(n.Component)),Xt=Object(k.g)(Kt),Zt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={orders:null},e.handleChange=function(t,a,n){if(t.target){var r="file"===t.target.type?t.target.files[0]:t.target.value,l=t.target.name;e.setState(Object(G.a)({},l,r))}else e.setState({docName:a,docUrl:n})},e.handleSubmitWithFile=function(t){t.preventDefault();var a=new FormData;for(var n in e.state)"docUrl"!==n&&a.append(n,e.state[n]);e.state.docUrl&&a.append("docUrl",e.state.docUrl.current.files[0]),N(e.props.match.params.id,a).then((function(t){console.log(t),x(e.props.match.params.id),e.props.history.push("/order/".concat(e.props.match.params.id))})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(be.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(this.props.match.params.id);case 2:t=e.sent,this.setState({orders:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null!==this.state.orders?r.a.createElement("div",null,"submitted"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(Xt,{orders:this.state.orders,handleChange:this.handleChange,handleSubmit:this.handleSubmitWithFile}),"shipped"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(Gt,{orders:this.state.orders,handleChange:this.handleChange,handleSubmit:this.handleSubmitWithFile}),"received"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(z.a,{component:"h1",variant:"h5"},"Order completed")):r.a.createElement(Bt,null)}}]),a}(n.Component),ea=Object(k.g)(Zt),ta=a(140),aa=a(264),na=Object(ta.a)({typography:{fontFamily:["Open Sans"].join(".")},palette:{primary:{main:"#252A36"},secondary:{light:"#EEDBDD",main:"#DAABB0",dark:"#64323E"}}});var ra=function(){return r.a.createElement(aa.a,{theme:na},r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement("div",{className:"container"},r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",component:Q}),r.a.createElement(k.b,{exact:!0,path:"/signin",component:ee}),r.a.createElement(k.b,{exact:!0,path:"/signup",component:se}),r.a.createElement(ue,{exact:!0,path:"/dashboard",component:$e}),r.a.createElement(ue,{exact:!0,path:"/dashboard/categories/:index",component:et}),r.a.createElement(ue,{exact:!0,path:"/dashboard/company",component:at}),r.a.createElement(ue,{exact:!0,path:"/order/new",component:_t}),r.a.createElement(ue,{exact:!0,path:"/order/edit/:id",component:ea}),r.a.createElement(ue,{exact:!0,path:"/order/:id",component:Yt}),r.a.createElement(ue,{exact:!0,path:"/order/confirmation",component:Mt}),r.a.createElement(ue,{exact:!0,path:"/company",component:xe}),r.a.createElement(ue,{exact:!0,path:"/profile",component:ge})))))};a(212),a(213);o.a.render(r.a.createElement(c.a,null,r.a.createElement(D,null,r.a.createElement(ra,null))),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.7274b525.chunk.js.map