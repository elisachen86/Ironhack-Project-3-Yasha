(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},207:function(e,t,a){e.exports=a(345)},233:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=a(15),i=a(9),s=a(10),m=a(12),u=a(11),d=a(171),p=a.n(d).a.create({baseURL:"https://ironhack-yasha.herokuapp.com",withCredentials:!0});function h(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var E=function(e){return p.post("/api/auth/signup",e).then((function(e){return e.data})).catch(h)},g=function(e){return p.patch("/api/user/me",e).then((function(e){return e.data})).catch(h)},f=function(e){return p.post("/api/auth/signin",e).then((function(e){return e.data})).catch(h)},v=function(){return p.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(h)},b=function(){return p.get("/api/auth/logout").then((function(e){return e.data})).catch(h)},y=function(e){return p.post("/api/company/mycompany",e).then((function(e){return e.data})).catch(h)},O=function(){return p.get("/api/company/mycompany").then((function(e){return e.data})).catch(h)},C=function(e){return p.patch("/api/company/mycompany",e).then((function(e){return e.data})).catch(h)},j=function(){return p.get("/api/order").then((function(e){return e.data})).catch(h)},x=function(e){return p.get("/api/order/".concat(e)).then((function(e){return e.data})).catch(h)},N=function(e){return p.post("/api/order",e).then((function(e){return e.data})).catch(h)},S=function(e,t){return p.patch("/api/order/".concat(e),t).then((function(e){return e.data})).catch(h)},w=function(e,t){return p.patch("/api/order/comment/".concat(e),t).then((function(e){return e.data})).catch(h)},k=r.a.createContext(),D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return r.a.createElement(k.Provider,{value:e},this.props.children)}}]),a}(n.Component),A=a(17),W=a(19),B=function(e){return function(t){return r.a.createElement(k.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{context:a}))}))}},L=a(379),I=a(172),P=a.n(I),T=a(405),R=a(381),F=a(184),Y=a(406),U=a(382),M=a(380),H=a(189),z=a(8),q=a(190),_=a(376),V=a(21),G=a(128),$=a.n(G),J=Object(_.a)((function(e){return{root:{flexGrow:1,marginTop:"10px"},menuButton:{marginRight:e.spacing(2)},title:Object(z.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(z.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(V.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(V.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(z.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function Q(e){var t=Object(n.useState)(""),a=Object(W.a)(t,2),l=(a[0],a[1],J());return r.a.createElement("div",{className:l.root},r.a.createElement("div",{className:l.search},r.a.createElement("div",{className:l.searchIcon},r.a.createElement($.a,null)),r.a.createElement(q.a,{placeholder:"Search\u2026",classes:{root:l.inputRoot,input:l.inputInput},inputProps:{"aria-label":"search"}})))}a(233);var K=Object(_.a)((function(e){return{root:{"& > *":{margin:e.spacing(0)}},small:{width:e.spacing(3),height:e.spacing(3)}}})),X=B((function(e){var t=K(),a=e.context,n=r.a.useState(null),l=Object(W.a)(n,2),c=l[0],i=l[1],s=function(){i(null)};return r.a.createElement(L.a,{position:"static"},r.a.createElement(M.a,{container:!0,alignItems:"center",justify:"space-between",id:"navbar"},r.a.createElement(M.a,{item:!0},r.a.createElement(o.c,{exact:!0,to:a.isLoggedIn?"/dashboard":"/"},r.a.createElement(H.a,{variant:"h6"},r.a.createElement("strong",null,"YASHA")))),r.a.createElement(M.a,{item:!0},a.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{container:!0,justify:"center",className:t.root},r.a.createElement(M.a,null,r.a.createElement(Q,null)),r.a.createElement(M.a,null,r.a.createElement(R.a,{color:"secondary"},r.a.createElement(P.a,null))),r.a.createElement(M.a,null,r.a.createElement(R.a,{"aria-controls":"simple-menu","aria-haspopup":"true",size:"small",onClick:function(e){i(e.currentTarget)}},a.user&&r.a.createElement(T.a,{alt:a.user.firstName,src:a.user.avatar,className:t.small})),r.a.createElement(F.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:s},r.a.createElement(Y.a,{onClick:s},r.a.createElement(U.a,{href:"/profile"},"My user profile")),r.a.createElement(Y.a,{onClick:s},r.a.createElement(U.a,{href:"/company"},"My company profile")),r.a.createElement(Y.a,{onClick:function(){b().then((function(){a.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))))),!a.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{item:!0},r.a.createElement(R.a,{href:"/signin",color:"inherit"},"Log in"))))))})),Z=a(383),ee=a(399),te=(a(151),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"home-flex"},r.a.createElement("div",{className:"section-one"},r.a.createElement("h3",{className:"hero-title"},"We're helping businesses like yours all around the world"),r.a.createElement(H.a,{variant:"h5",style:{fontSize:"1.2rem"},align:"center",className:"section-one-el"},"Manage orders, track processes and get the best results using a single platform."),r.a.createElement(ee.a,{textAlign:"center"},r.a.createElement(R.a,{variant:"outlined",style:{justifyContent:"center"},color:"secondary",href:"/signup"},"Get started"))),r.a.createElement("div",null,r.a.createElement("img",{className:"first-section-illu",src:"/images/herobanner.png",alt:"banner hero"}))),r.a.createElement("section",{className:"home-flex section-two"},r.a.createElement("div",{className:"item-flex"},r.a.createElement("h1",{className:"title-card"},"Streamlines orders between supermarkets and brands"),r.a.createElement("p",{className:"detail-card"},"Wholesale orders between supermarkets and brands are currently managed manually, using Excel and email.")),r.a.createElement("div",{className:"item-flex"},r.a.createElement("h1",{className:"title-card"},"Power every part of your business"),r.a.createElement("p",{className:"detail-card"},"Sell. Ship. Grow. Manage your multi-channel and wholesale business in one place with Yasha.")),r.a.createElement("div",{className:"item-flex"},r.a.createElement("h1",{className:"title-card"},"Reporting with smart insights"),r.a.createElement("p",{className:"detail-card"},"Create and save custom inventory and sales reports to track business performance and forecast for growth."))),r.a.createElement("footer",{className:"section-one"},r.a.createElement("div",{className:"bait-title"},"Your next stage of growth is just a click away."),r.a.createElement(ee.a,{textAlign:"center"},r.a.createElement(R.a,{variant:"contained",style:{justifyContent:"center"},color:"primary",href:"/signup"},"Start a free trial"))))}}]),a}(n.Component)),ae=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(Z.a,null,r.a.createElement(te,null))}}]),a}(r.a.Component),ne=a(407),re=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(z.a)({},a,n))},e.handleSubmit=function(t){console.log(e.state),t.preventDefault(),f(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(A.a,{to:"/"}):r.a.createElement(Z.a,{maxWidth:"sm"},r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement(H.a,{variant:"h5",gutterBottom:!0},"Sign In"),r.a.createElement(ne.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,type:"email",id:"email",label:"email",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(ne.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement(M.a,{container:!0},r.a.createElement(M.a,{item:!0,xs:!0},r.a.createElement(U.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(M.a,{item:!0},r.a.createElement(U.a,{href:"/signup",variant:"body2"},"Don't have an account? Sign Up")))))}}]),a}(n.Component);re.contextType=k;var le=Object(A.g)(re),ce=function(e){return r.a.createElement(le,null)},oe=a(387),ie=a(388),se=a(402),me=a(408),ue=a(401),de=a(386),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(z.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),E(e.state).then((function(t){y({name:e.state.company,companyType:e.state.companyType}),e.context.setUser(t),e.props.history.push("/profile")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return this.context.user?r.a.createElement(A.a,{to:"/dashboard"}):r.a.createElement(Z.a,{component:"main",maxWidth:"xs"},r.a.createElement(oe.a,null),r.a.createElement("div",null,r.a.createElement(H.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(M.a,{container:!0,spacing:2},r.a.createElement(ne.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,margin:"normal",onChange:this.handleChange}),r.a.createElement(ne.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",margin:"normal",onChange:this.handleChange}),r.a.createElement(ne.a,{variant:"outlined",required:!0,fullWidth:!0,type:"email",id:"email",label:"Email Address",name:"email",autoComplete:"email",margin:"normal",autoFocus:!0,onChange:this.handleChange}),r.a.createElement(ne.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",margin:"normal",autoComplete:"current-password",onChange:this.handleChange}),r.a.createElement(ne.a,{variant:"outlined",required:!0,fullWidth:!0,name:"company",label:"Company",type:"company",id:"company",margin:"normal",autoComplete:"Company",onChange:this.handleChange}),r.a.createElement(de.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(me.a,{shrink:"true",id:"companyType"},"Company Type"),r.a.createElement(ue.a,{fullWidth:!0,labelId:"companyType",id:"companyType",name:"companyType",onChange:this.handleChange},r.a.createElement(Y.a,{value:"retailer"},"Retailer"),r.a.createElement(Y.a,{value:"brand"},"Brand"))),r.a.createElement(ie.a,{control:r.a.createElement(se.a,{onChange:this.handleChange,value:"allowExtraEmails",color:"primary",margin:"normal"}),id:"allowExtraEmails",name:"allowExtraEmails",label:"I want to receive inspiration, marketing promotions and updates via email."})),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement(M.a,{container:!0,justify:"flex-end"},r.a.createElement(M.a,{item:!0},r.a.createElement(U.a,{href:"/signin",variant:"body2"},"Already have an account? Sign in"))))))}}]),a}(n.Component);pe.contextType=k;var he=Object(A.g)(pe),Ee=function(e){return r.a.createElement(he,null)},ge=a(185),fe=B((function(e){var t=e.component,a=e.context,n=Object(ge.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?r.a.createElement(A.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,e)}})):r.a.createElement(A.a,{to:"/signin"})})),ve=r.a.forwardRef((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"UploadWidget label",htmlFor:e.name},e.children),r.a.createElement("input",{onChange:function(a){var n=a.target.files[0],r=URL.createObjectURL(n);e.onFileSelect&&e.onFileSelect(r,e.name,t)},ref:t,className:"UploadWidget input",id:e.name,name:e.name,type:"file"}))})),be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={},e.avatarRef=r.a.createRef(),e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(z.a)({},n,a))},e.handleFileSelect=function(t){e.setState({shippingDocs:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.props.context,n=new FormData;for(var r in e.state)"avatar"!==r&&n.append(r,e.state[r]);e.avatarRef.current.files[0]&&n.append("avatar",e.avatarRef.current.files[0]),g(n).then((function(t){a.setUser(t),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.context.user;this.setState(e)}},{key:"render",value:function(){return this.state.firstName?r.a.createElement(Z.a,{component:"main",maxWidth:"xs",className:"auth-container"},r.a.createElement("div",null,r.a.createElement(H.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true"},"Complete your profile"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(ne.a,Object(z.a)({id:"firstName",name:"firstName",fullWidth:!0,variant:"outlined",margin:"normal",label:"First Name",value:this.state.firstName,onChange:this.handleChange},"margin","normal")),r.a.createElement(ne.a,{id:"lastName",name:"lastName",fullWidth:!0,variant:"outlined",margin:"normal",label:"Last Name",value:this.state.lastName,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"email",name:"email",fullWidth:!0,variant:"outlined",margin:"normal",label:"Email Address",value:this.state.email,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"password",name:"password",fullWidth:!0,variant:"outlined",margin:"normal",label:"Password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,variant:"outlined",margin:"normal",type:"file"}),r.a.createElement("label",{name:"avatar",htmlFor:"avatar"},r.a.createElement(ve,{ref:this.avatarRef,onFileSelect:this.handleFileSelect,name:"avatar"})),r.a.createElement(ee.a,{className:"button-box"},r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Save Changes"))))):r.a.createElement(H.a,{component:"h1",variant:"h5"},"loading")}}]),a}(n.Component),ye=Object(A.g)(B(be)),Oe=function(e){return r.a.createElement("div",null,r.a.createElement(ye,null))},Ce=a(35),je=a.n(Ce),xe=a(50),Ne=a(389),Se=a(100),we=a.n(Se),ke=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:t.target.value,n=t.target.name;e.setState(Object(z.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();e.props.authContext;C(e.state).then((function(t){e.props.history.push("/company")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(xe.a)(je.a.mark((function e(){var t,a;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.context,t.user,e.next=4,O();case 4:a=e.sent;try{this.setState(a)}catch(n){console.log(n)}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.name?r.a.createElement(Z.a,{component:"main",maxWidth:"xs",className:"auth-container"},r.a.createElement("div",null,r.a.createElement(H.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true"},"Your Company Info"),r.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement(ne.a,{id:"name",name:"name",fullWidth:!0,variant:"outlined",margin:"normal",label:"Company Name",value:this.state.name,onChange:this.handleChange}),r.a.createElement(de.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(me.a,{shrink:"true",id:"companyType"},"Company Type"),r.a.createElement(ue.a,{fullWidth:!0,labelId:"companyType",id:"companyType",name:"companyType",onChange:this.handleChange,value:this.state.companyType},r.a.createElement(Y.a,{value:"retailer"},"Retailer"),r.a.createElement(Y.a,{value:"brand"},"Brand"))),r.a.createElement(ne.a,{id:"email",name:"email",fullWidth:!0,variant:"outlined",margin:"normal",label:"Main Email Contact",value:this.state.email,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"phoneNumber",name:"phoneNumber",fullWidth:!0,variant:"outlined",margin:"normal",label:"Main Phone Number",value:this.state.phoneNumber,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"vatNb",name:"vatNb",fullWidth:!0,variant:"outlined",margin:"normal",label:"VAT Number",value:this.state.vatNb,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"shippingAddress",name:"shippingAddress",fullWidth:!0,variant:"outlined",margin:"normal",label:"Shipping Address",value:this.state.shippingAddress,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"billingAddress",name:"billingAddress",fullWidth:!0,variant:"outlined",margin:"normal",label:"Billing Address",value:this.state.billingAddress,onChange:this.handleChange}),r.a.createElement(H.a,{variant:"h6"},"Current users")," ",this.state.userList.map((function(e){return r.a.createElement(M.a,{container:!0,alignItems:"center",className:"current-users"},r.a.createElement(T.a,{alt:e.firstName,src:e.avatar}),r.a.createElement(H.a,{variant:"body1"},e.firstName," ",e.lastName," (",e.permission,")"))})),r.a.createElement(Ne.a,{variant:"extend",color:"secondary","aria-label":"add",size:"medium"},r.a.createElement(we.a,null)," Add user"),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Save changes")))):r.a.createElement(H.a,{component:"h1",variant:"h5"},"loading")}}]),a}(n.Component)),De=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke,null))}}]),a}(n.Component),Ae=a(57),We=a(390),Be=a(391),Le=a(403),Ie=(a(111),Object(_.a)((function(e){return{root:{width:"100%",backgroundColor:"none"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}))),Pe=Object(_.a)({paper:{backgroundColor:"transparent"}});function Te(e){var t=Ie(),a=["submitted","shipped","received"],n=Pe(),l=e.steps,c=[l.submitted,l.shipped,l.received];return e.steps?r.a.createElement("div",{className:t.root},r.a.createElement(We.a,{activeStep:0,classes:{root:n.paper},alternativeLabel:!0},a.map((function(e,t){return r.a.createElement(Be.a,{key:e,active:!1},r.a.createElement(Le.a,null,c[t],r.a.createElement("br",null),e))}))),r.a.createElement("div",null,0===a.length?r.a.createElement("div",{className:"container"},r.a.createElement(H.a,{className:t.instructions},"All steps completed")):r.a.createElement("div",null))):r.a.createElement("div",null,"Loading.....")}var Re=a(392),Fe=a(393),Ye=a(112);a(113);var Ue=a(114),Me=a(115),He=a(116),ze=a(117);Ye.extend(He),Ye.extend(ze),Ye.extend(Ue),Ye.extend(Me);var qe=a(118);Ye.extend(qe);var _e=function(e){var t=e.messages;return r.a.createElement(Re.a,{style:{display:"flex",borderRadius:"0.5em",color:"#252A36",backgroundColor:"#F4EEED",margin:"1.5em"}},r.a.createElement(T.a,{src:t.user.avatar,alt:t.user.firstName,style:{height:"2.8em",width:"2.8em",margin:"1em"}}),r.a.createElement(Fe.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(H.a,{style:{fontWeight:"700"},color:"textPrimary",gutterBottom:!0},t.user.firstName," ",t.user.lastName," -"," ",Ye("".concat(t.timeStamp)).format("DD/MM/YYYY")),r.a.createElement(H.a,{color:"textPrimary",gutterBottom:!0},t.message)))},Ve=a(173),Ge=a.n(Ve),$e=a(174),Je=a.n($e),Qe=a(112);a(113);var Ke=a(114),Xe=a(115),Ze=a(116),et=a(117);Qe.extend(Ze),Qe.extend(et),Qe.extend(Ke),Qe.extend(Xe);var tt=a(118);Qe.extend(tt);var at=B((function(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),l=(a[0],a[1]),c=Object(n.useState)([]),o=Object(W.a)(c,2),i=o[0],s=o[1],m=e.context.user;Object(n.useEffect)((function(){var t=[];e.ordersWithMessages.forEach((function(e){var a={orderId:e._id,orderNumber:e.number,comments:e.comments.filter((function(e){return e.user&&e.user._id!==m._id}))};t.push(a)}));var a=t.filter((function(e){return 0!==e.comments.length})).reduce((function(e,t){t.comments.filter((function(e){return e.user&&e.user._id!==m._id}));var a=t.brandCompany;return e[a]||(e[a]=[]),e[a].push(t),e}),{}),n=Object.keys(a).map((function(e){return[e,a[e]]}));console.log(i),s(n)}),[]);return i?r.a.createElement("div",null,r.a.createElement(Re.a,{className:"card"},r.a.createElement(M.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(M.a,{item:!0},r.a.createElement(Ge.a,null)),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h5"},e.text1),r.a.createElement(H.a,{color:"textSecondary"},e.text2," ")))),r.a.createElement(Re.a,{className:"card",onClick:function(e){l(i)}},r.a.createElement(M.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(M.a,{item:!0},r.a.createElement(Je.a,null)),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h5"}," 3 New messages"),r.a.createElement(H.a,{color:"textSecondary"}," from Danone "))))):r.a.createElement("div",null,"Loading.....")})),nt=(a(152),Object(_.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),position:"absolute",top:"5rem",right:"0.8rem",zIndex:"100"}},extendedIcon:{marginRight:e.spacing(1)}}})));function rt(){var e=nt();return r.a.createElement("div",{className:e.root},r.a.createElement(Ne.a,{color:"secondary","aria-label":"add"},r.a.createElement(we.a,null)))}var lt=function(e){var t=e.name,a=e.number,n=e.total;return r.a.createElement("div",null,r.a.createElement(Re.a,{className:"card"},r.a.createElement(Fe.a,null,r.a.createElement(H.a,{variant:"h5",component:"h2"},t),r.a.createElement(H.a,{color:"textSecondary"},a," - $",n,"k"))))},ct=a(404),ot=a(394),it=a(395),st=a(129),mt=a.n(st),ut=Object(_.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"column",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}})),dt=Object(_.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),pt=function(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),s=Object(W.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)([]),p=Object(W.a)(d,2),h=p[0],E=p[1],g=Object(n.useState)([]),f=Object(W.a)(g,2),v=f[0],b=f[1],y=function(e){console.log(e.target.value);var t=Object(Ae.a)(l),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),c(t)},O=function(e){var t=Object(Ae.a)(m),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),u(t)},C=function(e){var t=Object(Ae.a)(h),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),E(t)},j=function(e){var t=Object(Ae.a)(v),a=t.indexOf(e.target.value);a<0?t.push(e.target.value):t.splice(a,1),b(t)},x=e.orders.filter((function(e){return!v.length||v.includes(e.paymentHistory[e.paymentHistory.length-1].payment)})).filter((function(e){return!m.length||m.includes(e.category)})).filter((function(e){return!h.length||h.includes(e.steps[e.steps.length-1].stage)})).filter((function(e){return!l.length||l.includes(e.season)})),N=ut(),S=dt();return r.a.createElement("div",null,r.a.createElement("div",Object(z.a)({className:S.root},"className",N.root),r.a.createElement(ct.a,null,r.a.createElement(ot.a,{expandIcon:r.a.createElement(mt.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(H.a,{variant:"h5",className:N.heading},r.a.createElement("strong",null,"Filters"))),r.a.createElement(it.a,{className:"accordion-flex"},r.a.createElement(H.a,{variant:"h6",component:"h1"},"Seasons"),r.a.createElement("button",{className:"accordion-btn",value:"Jan 2020",onClick:y},"Jan 2020"),r.a.createElement("button",{className:"accordion-btn",value:"Dec 2020",onClick:y},"Dec 2020"),r.a.createElement(H.a,{variant:"h6",component:"h1"},"Categories"),r.a.createElement("button",{className:"accordion-btn",value:"Veggie",onClick:O},"Veggie"),r.a.createElement("button",{className:"accordion-btn",value:"Cheese",onClick:O},"Cheese"),r.a.createElement("button",{className:"accordion-btn",value:"Drinks",onClick:O},"Drinks"),r.a.createElement(H.a,{variant:"h6",component:"h1"},"Order status"),r.a.createElement("button",{className:"accordion-btn",value:"submitted",onClick:C},"submitted"),r.a.createElement("button",{className:"accordion-btn",value:"shipped",onClick:C},"shipped"),r.a.createElement("button",{className:"accordion-btn",value:"received",onClick:C},"received"),r.a.createElement(H.a,{variant:"h6",component:"h1"},"Payment status"),r.a.createElement("button",{className:"accordion-btn",value:"not paid",onClick:j},"not paid"),r.a.createElement("button",{className:"accordion-btn",value:"partially paid",onClick:j},"partially paid"),r.a.createElement("button",{className:"accordion-btn",value:"fully paid",onClick:j},"fully paid")))),r.a.createElement("div",{className:"dashboard-scrollbox"},x.map((function(e){return r.a.createElement(o.b,{to:{pathname:"/order/".concat(e._id)}},r.a.createElement(lt,{key:e._id,name:e.name,number:e.number,total:e.total}))}))))},ht=a(175),Et={labels:["Budget left","Spent"],datasets:[{label:"FW20",backgroundColor:["#64323E","#DAABB0"],hoverBackgroundColor:["#64323E","#DAABB0"],data:[73,485]}]},gt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ht.Pie,{data:Et,options:{title:{display:!0,text:"FW20",fontSize:20},legend:{display:!1,position:"right"}}}))}}]),a}(n.Component),ft=a(176),vt=a.n(ft),bt=B(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={orders:null,ordersBySector:null},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(xe.a)(je.a.mark((function e(){var t,a,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var t={submitted:0,shipped:0,received:0};return e.forEach((function(e){var a=e.steps[e.steps.length-1].stage;"submitted"===a?t.submitted=t.submitted+1:"shipped"===a?t.shipped=t.shipped+1:"received"===a&&(t.received=t.received+1)})),t},a=function(e){var a=t.reduce((function(t,a){a.total=a.items.reduce((function(e,t){return e+t.price*t.quantity}),0);var n=a[e];return t[n]||(t[n]=[]),t[n].push(a),t}),{});return Object.keys(a).map((function(e){return[e,a[e]]}))},e.next=4,j();case 4:t=e.sent,this.setState({orders:t,ordersBySector:a("season"),ordersBySteps:n(t)});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.context;return this.state.ordersBySector?r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"dashboard-fullrow"},r.a.createElement(H.a,{variant:"h3",component:"h1"},"Hello ",r.a.createElement("strong",null,e.user&&e.user.firstName," "),"!")),r.a.createElement("div",{className:"dashboard-left"},r.a.createElement(H.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Notifications"),r.a.createElement("div",{className:"dashboard-notifs"},r.a.createElement(at,{text1:"4 orders need your attention",text2:"3 confirmation issues and 1 transport to organize",text3:"3 new messages",text4:"from Danone, Coca-Cola, Mondelez",ordersWithMessages:Object(Ae.a)(this.state.orders).filter((function(e){return e.comments.length>0}))})),r.a.createElement("div",{className:"dashboard-budget"},r.a.createElement(H.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Your open-to-buy"),r.a.createElement(gt,null))),r.a.createElement("div",{className:"dashboard-right"},r.a.createElement(M.a,{item:!0},r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"h5",color:"textSecondary",gutterBottom:!0},"Your orders")),r.a.createElement(M.a,{item:!0},r.a.createElement(H.a,{variant:"subtitle1",gutterBottom:!0},r.a.createElement("p",null,"All open orders",r.a.createElement("span",null,this.state.orders.length),r.a.createElement("span",null,r.a.createElement(vt.a,null)))))),r.a.createElement(Te,{steps:this.state.ordersBySteps}),r.a.createElement(pt,{orders:this.state.orders}),r.a.createElement("div",{className:"dashboard-scrollbox"}),r.a.createElement(o.b,{to:"/order/new"},r.a.createElement(rt,null)))):r.a.createElement("div",null,"Loading.....")}}]),a}(n.Component)),yt=a(396),Ot=a(347),Ct=a(177),jt=a.n(Ct),xt=function(e){return r.a.createElement("div",null,r.a.createElement(L.a,{color:"textSecondary",position:"static"},r.a.createElement(yt.a,null,r.a.createElement(Ot.a,null,r.a.createElement(jt.a,null)),r.a.createElement(H.a,{variant:"h6"},e.text))))},Nt=a(397),St=function(e){return r.a.createElement(Re.a,{className:"card"},r.a.createElement(Fe.a,null,r.a.createElement(H.a,{variant:"h5",component:"h2"},e.refcode),r.a.createElement(H.a,{color:"textSecondary"},"$ ",e.total," - ",e.amount," units")),r.a.createElement(Nt.a,null))},wt=Object(A.g)(B((function(e){var t=e.location.state.ordersBySector;return r.a.createElement("div",null,r.a.createElement(o.b,{to:"/dashboard"},r.a.createElement(xt,{text:t[0]})),r.a.createElement("div",{className:"catBrandContainer"},r.a.createElement(M.a,{container:!0,justify:"center"},r.a.createElement(H.a,{variant:"h5"},r.a.createElement("strong",null,"  ",t[1].length," "),"orders worth ",r.a.createElement("strong",null,t[1].reduce((function(e,t){return e+t.total}),0))),r.a.createElement(Te,{steps:function(e){var t={submitted:0,shipped:0,received:0};return e.forEach((function(e){var a=e.steps[e.steps.length-1].stage;"submitted"===a?t.submitted=t.submitted+1:"shipped"===a?t.shipped=t.shipped+1:"received"===a&&(t.received=t.received+1)})),t}(t[1])})),t[1].map((function(e,t){return r.a.createElement(o.b,{to:"/order/".concat(e._id)},r.a.createElement(St,{key:t,refcode:e.number,total:e.total,amount:e.items.reduce((function(e,t){return e+t.quantity}),0)}))}))))}))),kt=function(e){return r.a.createElement(Re.a,{className:"card"},r.a.createElement(Fe.a,null,r.a.createElement(H.a,{variant:"h5",component:"h2"},e.orderNumber),r.a.createElement(H.a,{color:"textSecondary"},"$",e.amount," - ",e.units," units")),r.a.createElement(Nt.a,null))},Dt=function(){return r.a.createElement("div",null,r.a.createElement(xt,{text:"Danone"}),r.a.createElement("div",{className:"catBrandContainer"},r.a.createElement(M.a,{container:!0,justify:"center"},r.a.createElement(H.a,{variant:"h5"},r.a.createElement("strong",null,"34 "),"orders worth ",r.a.createElement("strong",null,"18.000")),r.a.createElement(Te,null)),r.a.createElement(kt,{orderNumber:"PO1039829",amount:"5,829.00",units:"423"}),r.a.createElement(kt,{orderNumber:"PO1039828",amount:"13,592.00",units:"876"}),r.a.createElement(kt,{orderNumber:"PO1039827",amount:"5,998.00",units:"502"})))},At=a(348),Wt=a(4),Bt=a(3),Lt=a(178),It=a.n(Lt),Pt=Object(_.a)((function(e){return{root:{width:"100%",backgroundColor:"none",color:"#DAABB0"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),Tt=Object(_.a)({root:{color:"#DAABB0",display:"flex",height:22,alignItems:"center"},active:{color:"#DAABB0"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#DAABB0",zIndex:1,fontSize:18}}),Rt=Object(Wt.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#DAABB0"}},completed:{"& $line":{borderColor:"#DAABB0"}},line:{borderColor:"#DAABB0",borderTopWidth:3,borderRadius:1}})(At.a);function Ft(e){var t=Tt(),a=e.active,n=e.completed;return r.a.createElement("div",{className:Object(Bt.a)(t.root,Object(z.a)({},t.active,a))},n?r.a.createElement(It.a,{className:t.completed}):r.a.createElement("div",{className:t.circle}))}var Yt=Object(_.a)({paper:{backgroundColor:"transparent"}});function Ut(e){var t=Pt(),a=["submitted","shipped","received"],n=r.a.useState(a.indexOf(e.currentStep)+1),l=Object(W.a)(n,2),c=l[0],o=(l[1],Yt());return e.currentStep?r.a.createElement("div",{className:t.root},r.a.createElement(We.a,{alternativeLabel:!0,classes:{root:o.paper},activeStep:c,connector:r.a.createElement(Rt,null)},a.map((function(e){return r.a.createElement(Be.a,{key:e},r.a.createElement(Le.a,{StepIconComponent:Ft},e))}))),r.a.createElement("div",null,c===a.length?r.a.createElement("div",{className:"container"},r.a.createElement(H.a,{className:t.instructions},"All steps completed")):r.a.createElement("div",null))):r.a.createElement("div",null,"Loading.....")}var Mt=a(179),Ht=a.n(Mt),zt=function(e){return console.log("navOrder.jsx - props",e),r.a.createElement("div",null,r.a.createElement(L.a,{color:"textSecondary",position:"static"},r.a.createElement(yt.a,null,r.a.createElement("img",{src:"",alt:""}),r.a.createElement(H.a,{variant:"h6"},e.order[0].name),r.a.createElement(o.b,{exact:!0,to:"/dashboard"},r.a.createElement(Ot.a,null,r.a.createElement(Ht.a,null))))))},qt=a(103),_t=a.n(qt),Vt=a(181),Gt=a.n(Vt),$t=a(59),Jt=a.n($t),Qt=a(400),Kt=a(58),Xt=a.n(Kt),Zt=a(180),ea=a.n(Zt),ta=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(H.a,{component:"h1",variant:"h5"},r.a.createElement(ea.a,null),"Loading ..."))}}]),a}(n.Component),aa=a(112);a(113);var na=a(114),ra=a(115),la=a(116),ca=a(117);aa.extend(la),aa.extend(ca),aa.extend(na),aa.extend(ra);var oa=a(118);aa.extend(oa);var ia=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidMount=function(){e.setState({order:e.props.order})},e.calculateTotalCost=function(){return e.props.order[0].items.reduce((function(e,t){return e+t.price*t.quantity}),0)},e.calculateTotalQty=function(){return e.props.order[0].items.reduce((function(e,t){return e+t.quantity}),0)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.order[0];return this.props.order?r.a.createElement(Re.a,null,r.a.createElement(Xt.a,{variant:"popover",popupId:"demo-popup-popover"},(function(t){return r.a.createElement("div",null,r.a.createElement(Fe.a,Object(Kt.bindTrigger)(t),r.a.createElement(H.a,{color:"textSecondary"},e.props.order[0].currency," ",e.calculateTotalCost()),r.a.createElement(H.a,{color:"textSecondary"},e.calculateTotalQty()," units"),r.a.createElement(H.a,{variant:"h5",component:"h2"},r.a.createElement(_t.a,null),e.props.order[0].steps[e.props.order[0].steps.length-1].stage," ",aa("".concat(e.props.order[0].steps[e.props.order[0].steps.length-1].date)).fromNow()," ","(",aa("".concat(e.props.order[0].steps[e.props.order[0].steps.length-1].date)).format("DD/MM/YYYY"),"",")"),r.a.createElement(H.a,{color:"textSecondary"},r.a.createElement(Gt.a,null),"Terms and Conditions")),r.a.createElement(Qt.a,Object.assign({},Object(Kt.bindPopover)(t),{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}}),r.a.createElement(ee.a,{p:2},r.a.createElement(H.a,null,"Order History"),r.a.createElement(H.a,null," ",r.a.createElement(Jt.a,null),"Submitted on"," ",aa("".concat(e.props.order[0].steps[0].date)).format("DD/MM/YYYY")," "),e.props.order[0].steps[1]?r.a.createElement(H.a,null," ",r.a.createElement(Jt.a,null),"Shipment confirmed on"," ",aa("".concat(e.props.order[0].steps[1].date)).format("DD/MM/YYYY")," "):r.a.createElement(H.a,null," ",r.a.createElement(_t.a,null),"Your order has not been shipped yet"),e.props.order[0].steps[2]?r.a.createElement(H.a,null," ",r.a.createElement(Jt.a,null),"Received on"," ",aa("".concat(e.props.order[0].steps[2].date)).format("DD/MM/YYYY")," "):r.a.createElement(H.a,null," ",r.a.createElement(_t.a,null),"You have not received your order yet"))))})),r.a.createElement(Nt.a,null,r.a.createElement(Xt.a,{variant:"popover",popupId:"demo-popup-popover"},(function(a){return r.a.createElement("div",null,r.a.createElement(R.a,Object(Kt.bindTrigger)(a),void 0===t.paymentHistory.length&&"unpaid",1===t.paymentHistory.length&&"unpaid",2===t.paymentHistory.length&&"First payment completed",3===t.paymentHistory.length&&"Fully paid"),r.a.createElement(Qt.a,Object.assign({},Object(Kt.bindPopover)(a),{anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}}),r.a.createElement(ee.a,{p:2},r.a.createElement(H.a,null,"Payment terms:"),r.a.createElement(H.a,null," ",r.a.createElement(Jt.a,null),"First payment: ",t.currency," ",t.paymentTerms.firstPaymentAmount*e.calculateTotalCost()/100," | ","Second payment: ",t.currency," ",t.paymentTerms.secondPaymentAmount*e.calculateTotalCost()/100," "),r.a.createElement("br",null),r.a.createElement(H.a,null,"Payment history:"),void 0===t.paymentHistory.length&&r.a.createElement(H.a,null,"You have not paid anything yet, start your first payment"),1===t.paymentHistory.length&&r.a.createElement(H.a,null,"You have not paid anything yet, start your first payment"," "),t.paymentHistory.length>1&&r.a.createElement(H.a,null,r.a.createElement(Jt.a,null),"First payment done"," ",aa("".concat(t.paymentHistory[1].date)).fromNow()," ","(",aa("".concat(t.paymentHistory[1].date)).format("DD/MM/YYYY"),")"),t.paymentHistory.length>2&&r.a.createElement(H.a,null,r.a.createElement(Jt.a,null),"This order was fully paid"," ",aa("".concat(t.paymentHistory[2].date)).fromNow()," ","(",aa("".concat(t.paymentHistory[2].date)).format("DD/MM/YYYY"),")"))))})))):r.a.createElement(ta,null)}}]),a}(n.Component),sa=a(182),ma=a.n(sa),ua=Object(_.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),da=B((function(e){var t,a=e.context.user,l=e.order,c=(ua(),Object(n.useState)("")),o=Object(W.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(l.comments),u=Object(W.a)(m,2),d=u[0],p=u[1];return r.a.createElement("div",null,d.map((function(e){return r.a.createElement(_e,{messages:e})})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={message:i,user:a._id,timeStamp:new Date};w(l._id,t).then((function(e){return p(e.comments)})).then(s("")).catch((function(e){return console.log(e)}))}},r.a.createElement(ne.a,{id:"comment",name:"comment",fullWidth:!0,label:"Write your comments here",onChange:function(e){s(e.currentTarget.value)},value:i,placeholder:"Write your comments here",style:{backgroundColor:"#F4EEED",fontStyle:"italic",color:"#252A36",borderRadius:"0.8em",border:"none"}}),r.a.createElement(R.a,(t={variant:"contained",fullWidth:!0},Object(z.a)(t,"variant","contained"),Object(z.a)(t,"color","primary"),Object(z.a)(t,"type","submit"),t),r.a.createElement(ma.a,{style:{marginRight:"0.5em"}})," send my comment")))})),pa=Object(_.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),ha=function(e){var t=pa();Object(n.useContext)(k);var a=Object(n.useState)(null),l=Object(W.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(0),m=Object(W.a)(s,2);m[0],m[1];return Object(n.useEffect)((function(){x(e.match.params.id).then((function(e){return i(e)})).catch()}),[]),null!==c?r.a.createElement("div",null,r.a.createElement(zt,{order:c,img:""}),r.a.createElement("div",{className:t.root},r.a.createElement(Ut,{currentStep:c[0].steps[c[0].steps.length-1].stage}),r.a.createElement(ia,{order:c}),"received"===c[0].steps[c[0].steps.length-1].stage&&r.a.createElement(H.a,{component:"h1",variant:"h5"}),r.a.createElement(o.b,{exact:!0,to:"/order/edit/".concat(e.match.params.id)},"submitted"===c[0].steps[c[0].steps.length-1].stage&&r.a.createElement(R.a,{color:"Secondary",variant:"contained"},"Mark order as shipped"),"shipped"===c[0].steps[c[0].steps.length-1].stage&&r.a.createElement(R.a,{color:"Secondary",variant:"contained"},"Mark order as received")),c[0].documents.length>0&&r.a.createElement(H.a,{variant:"h5"},"Download order documents"),c[0].documents&&c[0].documents.map((function(e){return r.a.createElement(H.a,{variant:"body1"},r.a.createElement("a",{href:e.docUrl,target:"_blank"},e.docName))})),r.a.createElement(da,{order:c[0]}))):r.a.createElement(ta,null)},Ea=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("i",{class:"fas fa-long-arrow-alt-left"})," ",r.a.createElement("h1",null,"Order confirmation"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"Initial order"),r.a.createElement("th",null,"Order confirmation"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Order: "),r.a.createElement("td",null,"BALR FW20"),r.a.createElement("td",null,"SOBAL00021")),r.a.createElement("tr",null,r.a.createElement("td",null,"Supplier: "),r.a.createElement("td",null,"BALR"),r.a.createElement("td",null,r.a.createElement("i",{class:"far fa-check-circle"}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Currency: "),r.a.createElement("td",null,"USD"),r.a.createElement("td",null,r.a.createElement("i",{class:"fas fa-exclamation-triangle"})," EUR")),r.a.createElement("tr",null,r.a.createElement("td",null,"Date: "),r.a.createElement("td",null,"12/05/2020"),r.a.createElement("td",null,r.a.createElement("i",{class:"far fa-check-circle"})," 23/06/2020")))),r.a.createElement("h1",null,"Order Content"),r.a.createElement("div",null),r.a.createElement("h2",null,"1 item removed"),r.a.createElement("h2",null,"1 item added"),r.a.createElement("h2",null,"1 quantity changed"),r.a.createElement("div",null),r.a.createElement("a",{href:"/"},"Export details"),r.a.createElement("button",null,"Accept order confirmation"),r.a.createElement("a",{href:"/"},"Cancel upload"))}}]),a}(n.Component),ga=a(132),fa=(a(340),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={users:[],steps:[{stage:"submitted",date:new Date}],paymentTerms:{},items:[]},e.componentDidMount=Object(xe.a)(je.a.mark((function t(){var a,n,r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:a=t.sent,n=a.seasonList,r=a.categoryList;try{e.setState({seasonList:n,categoryList:r}),console.log(e.state)}catch(l){console.log(l)}case 6:case"end":return t.stop()}}),t)}))),e.handleChangeGoogleUrl=function(t){var a=t.target.value,n=(t.target.name,a.split("/")[5]);e.setState({googleDocId:n})},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(z.a)({},n,a))},e.handleChangePaymentAmount=function(t){var a,n=t.target.value,r=t.target.name,l=100-n;e.setState({paymentTerms:(a={},Object(z.a)(a,r,n),Object(z.a)(a,"secondPaymentAmount",l),a)})},e.handleChangePayment=function(t){var a=t.target.value,n=t.target.name;e.setState({paymentTerms:Object(ga.a)(Object(ga.a)({},e.state.paymentTerms),{},Object(z.a)({},n,a))})},e.handleSubmit=function(t){t.preventDefault(),e.state.users.push(e.context.user._id),N(e.state).then((function(t){e.props.history.push("/order/"+t._id)})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(Z.a,{component:"main",maxWidth:"md"},r.a.createElement(H.a,{component:"h1",variant:"h5"},"Create a New Order"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(M.a,{container:!0},r.a.createElement(ne.a,{id:"googleUrl",name:"googleUrl",label:"Import info from a Google Sheet - copy link here",margin:"dense",fullWidth:!0,onChange:this.handleChangeGoogleUrl}),r.a.createElement(ne.a,{id:"name",name:"name",label:"Order Name",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"number",name:"number",label:"Purchase Order Number",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(ne.a,{id:"brandCompany",name:"brandCompany",label:"Seller Company",margin:"dense",fullWidth:!0,onChange:this.handleChange}),r.a.createElement("label",{className:"label-date"},"Date"),r.a.createElement("input",{className:"input-date",onChange:this.handleChange,name:"date",type:"Date",placeholder:"20/06/2020"}),r.a.createElement(de.a,{fullWidth:!0,margin:"dense"},r.a.createElement(me.a,{id:"season"},"Season"),r.a.createElement(ue.a,{labelId:"season",id:"season",name:"season",onChange:this.handleChange},this.state.seasonList&&this.state.seasonList.map((function(e){return r.a.createElement(Y.a,{value:e},e)})))),r.a.createElement(de.a,{fullWidth:!0,margin:"dense"},r.a.createElement(me.a,{id:"category"},"Category"),r.a.createElement(ue.a,{labelId:"category",id:"category",name:"category",onChange:this.handleChange},this.state.categoryList&&this.state.categoryList.map((function(e){return r.a.createElement(Y.a,{value:e},e)})))),r.a.createElement(de.a,{fullWidth:!0,margin:"dense"},r.a.createElement(me.a,{id:"currency"},"Currency"),r.a.createElement(ue.a,{labelId:"currency",id:"currency",name:"currency",onChange:this.handleChange,value:"EUR"},r.a.createElement(Y.a,{value:"USD"},"USD"),r.a.createElement(Y.a,{value:"EUR"},"EUR"))),r.a.createElement(M.a,null,r.a.createElement(ne.a,{id:"itemName",name:"itemName",label:"Item Name",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ne.a,{id:"price",name:"price",label:"Price",type:"number",variant:"outlined",onChange:this.handleChange}),r.a.createElement(ne.a,{id:"quantity",name:"quantity",label:"Quantity",type:"number",variant:"outlined",onChange:this.handleChange})),r.a.createElement(M.a,{Container:!0},r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement("label",{className:"label-date",htmlFor:""},"1st Payment Due"),r.a.createElement(M.a,{container:!0,direction:"row"},r.a.createElement("input",{className:"input-date",id:"firstPaymentDate",name:"firstPaymentDate",type:"Date",onChange:this.handleChangePayment}),r.a.createElement(ne.a,{id:"firstPaymentAmount",name:"firstPaymentAmount",label:"1st Payment (%)",type:"number",InputProps:{inputProps:{min:0,max:100}},onChange:this.handleChangePaymentAmount}))),r.a.createElement(M.a,{container:!0,direction:"column"},r.a.createElement("label",{className:"label-date",htmlFor:""},"2nd Payment Due"),r.a.createElement(M.a,{container:!0,direction:"row"},r.a.createElement("input",{className:"input-date",id:"secondPaymentDate",name:"secondPaymentDate",type:"Date",onChange:this.handleChangePayment}),r.a.createElement(H.a,{variant:"body1"},"2nd Payment Amount:",this.state.paymentTerms.secondPaymentAmount&&this.state.paymentsecondPaymentAmount,"%"))))),r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit Order")))}}]),a}(n.Component));fa.contextType=k;var va=a(102),ba=a.n(va),ya=(a(341),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).docRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){var e;return null!==this.props?r.a.createElement(Z.a,{component:"main",maxWidth:"xs",className:"received-container"},r.a.createElement("div",{className:"received-card"},r.a.createElement("div",{className:"received-item"},r.a.createElement("img",{src:"/images/receive-pic.png",alt:"Shipment-illustration",className:"ship-pic"})),r.a.createElement("div",{className:"received-item"},r.a.createElement(H.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true",className:"received-title"},"Has your order arrived?")),r.a.createElement("form",{onSubmit:this.props.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(ve,{ref:this.docRef,onFileSelect:this.props.handleChange,name:"receivedDoc"}),r.a.createElement(R.a,(e={variant:"raised",component:"span"},Object(z.a)(e,"variant","contained"),Object(z.a)(e,"color","secondary"),Object(z.a)(e,"size","small"),Object(z.a)(e,"className","upload-btn received-item"),e),r.a.createElement("span",{className:"upload-icon"},r.a.createElement(ba.a,null)),"Upload reception documents")),r.a.createElement(ee.a,{className:"button-box received-item"},r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Mark order as received"))))):r.a.createElement(ta,null)}}]),a}(n.Component)),Oa=(Object(A.g)(ya),a(342),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).docRef=r.a.createRef(),e}return Object(s.a)(a,[{key:"render",value:function(){return null!==this.props?r.a.createElement(Z.a,{component:"main",maxWidth:"xs",className:"shipped-container"},r.a.createElement("div",{className:"shipped-card"},r.a.createElement("div",{className:"shipped-item"},r.a.createElement("img",{src:"/images/shipment-pic.png",alt:"Shipment-illustration",className:"ship-pic"})),r.a.createElement("div",{className:"shipped-item"},r.a.createElement(H.a,{align:"center",component:"h1",variant:"h5",gutterBottom:"true",className:"shipped-title"},"Is your order ready to ship?")),r.a.createElement("form",{onSubmit:this.props.handleSubmit,noValidate:!0},r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(ve,{ref:this.docRef,onFileSelect:this.props.handleChange,name:"shippingDoc"}),r.a.createElement(R.a,{component:"span",variant:"contained",color:"secondary",size:"small",className:"upload-btn shipped-item"},r.a.createElement("span",{className:"upload-icon"},r.a.createElement(ba.a,null)),"Upload shipping documents")),r.a.createElement(ee.a,{className:"button-box shipped-item"},r.a.createElement(R.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Mark order as shipped"))))):r.a.createElement(ta,null)}}]),a}(n.Component)),Ca=Object(A.g)(Oa),ja=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={orders:null},e.handleChange=function(t,a,n){if(t.target){var r="file"===t.target.type?t.target.files[0]:t.target.value,l=t.target.name;e.setState(Object(z.a)({},l,r))}else e.setState({docName:a,docUrl:n})},e.handleSubmitWithFile=function(t){t.preventDefault();var a=new FormData;for(var n in e.state)"docUrl"!==n&&a.append(n,e.state[n]);e.state.docUrl&&a.append("docUrl",e.state.docUrl.current.files[0]),S(e.props.match.params.id,a).then((function(t){console.log(t),x(e.props.match.params.id),e.props.history.push("/order/".concat(e.props.match.params.id))})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(xe.a)(je.a.mark((function e(){var t;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(this.props.match.params.id);case 2:t=e.sent,this.setState({orders:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null!==this.state.orders?r.a.createElement("div",null,"submitted"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(Ca,{orders:this.state.orders,handleChange:this.handleChange,handleSubmit:this.handleSubmitWithFile}),"shipped"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(ya,{orders:this.state.orders,handleChange:this.handleChange,handleSubmit:this.handleSubmitWithFile}),"received"===this.state.orders[0].steps[this.state.orders[0].steps.length-1].stage&&r.a.createElement(H.a,{component:"h1",variant:"h5"},"Order completed")):r.a.createElement(ta,null)}}]),a}(n.Component),xa=Object(A.g)(ja),Na=a(183),Sa=a(398),wa=Object(Na.a)({typography:{fontFamily:["Open Sans"].join(".")},palette:{primary:{main:"#252A36"},secondary:{light:"#EEDBDD",main:"#DAABB0",dark:"#64323E"}}});var ka=function(){return r.a.createElement(Sa.a,{theme:wa},r.a.createElement("div",{className:"App"},r.a.createElement(X,null),r.a.createElement("div",{className:"container"},r.a.createElement(A.d,null,r.a.createElement(A.b,{exact:!0,path:"/",component:ae}),r.a.createElement(A.b,{exact:!0,path:"/signin",component:ce}),r.a.createElement(A.b,{exact:!0,path:"/signup",component:Ee}),r.a.createElement(fe,{exact:!0,path:"/dashboard",component:bt}),r.a.createElement(fe,{exact:!0,path:"/dashboard/categories/:index",component:wt}),r.a.createElement(fe,{exact:!0,path:"/dashboard/company",component:Dt}),r.a.createElement(fe,{exact:!0,path:"/order/new",component:fa}),r.a.createElement(fe,{exact:!0,path:"/order/edit/:id",component:xa}),r.a.createElement(fe,{exact:!0,path:"/order/:id",component:ha}),r.a.createElement(fe,{exact:!0,path:"/order/confirmation",component:Ea}),r.a.createElement(fe,{exact:!0,path:"/company",component:De}),r.a.createElement(fe,{exact:!0,path:"/profile",component:Oe})))))};a(343),a(344);c.a.render(r.a.createElement(o.a,null,r.a.createElement(D,null,r.a.createElement(ka,null))),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.6fadfe9b.chunk.js.map